package dc.visao.ponto;

import org.vaadin.addons.maskedtextfield.MaskedTextField;

import com.vaadin.annotations.AutoGenerated;
import com.vaadin.ui.ComboBox;
import com.vaadin.ui.CustomComponent;
import com.vaadin.ui.GridLayout;
import com.vaadin.ui.TextField;
import com.vaadin.ui.VerticalLayout;

import dc.entidade.ponto.PontoHorario;
import dc.visao.framework.util.ComponentUtil;

public class PontoHorarioFormView extends CustomComponent {

	/*- VaadinEditorProperties={"grid":"RegularGrid,20","showGrid":true,"snapToGrid":true,"snapToObject":true,"movingGuides":false,"snappingDistance":10} */

	/**
	 * 
	 */
	private static final long serialVersionUID = 1L;
	@AutoGenerated
	private VerticalLayout mainLayout;
	@AutoGenerated
	private GridLayout gridLayout_1;
	@AutoGenerated
	private MaskedTextField txHoraFimJornada;
	@AutoGenerated
	private MaskedTextField txHoraInicioJornada;
	@AutoGenerated
	private MaskedTextField txSaida05;
	@AutoGenerated
	private MaskedTextField txEntrada05;
	@AutoGenerated
	private MaskedTextField txSaida04;
	@AutoGenerated
	private MaskedTextField txEntrada04;
	@AutoGenerated
	private MaskedTextField txSaida03;
	@AutoGenerated
	private MaskedTextField txEntrada03;
	@AutoGenerated
	private MaskedTextField txSaida02;
	@AutoGenerated
	private MaskedTextField txEntrada02;
	@AutoGenerated
	private MaskedTextField txSaida01;
	@AutoGenerated
	private MaskedTextField txEntrada01;
	@AutoGenerated
	private MaskedTextField txCargaHoraria;
	@AutoGenerated
	private ComboBox cmbTipoTrabalho;
	@AutoGenerated
	private TextField txNome;
	@AutoGenerated
	private TextField txCodigo;
	@AutoGenerated
	private ComboBox cmbTipo;

	/**
	 * The constructor should first build the main layout, set the composition
	 * root and then do any custom initialization.
	 * 
	 * The constructor will not be automatically regenerated by the visual
	 * editor.
	 */
	public PontoHorarioFormView() {
		buildMainLayout();
		setCompositionRoot(mainLayout);

		// TODO add user code here
	}

	@AutoGenerated
	private VerticalLayout buildMainLayout() {
		// common part: create layout
		mainLayout = new VerticalLayout();
		mainLayout.setImmediate(false);
		mainLayout.setSizeFull();
		mainLayout.setMargin(false);
		mainLayout.setSpacing(true);
		// top-level component properties
		setWidth("100.0%");
		setHeight("100.0%");

		// gridLayout_1
		gridLayout_1 = buildGridLayout_1();
		mainLayout.addComponent(gridLayout_1);

		return mainLayout;
	}

	@AutoGenerated
	private GridLayout buildGridLayout_1() {
		// common part: create layout
		gridLayout_1 = new GridLayout();
		gridLayout_1.setImmediate(false);
		gridLayout_1.setSpacing(true);
		gridLayout_1.setWidth("100%");
		gridLayout_1.setColumns(6);
		gridLayout_1.setRows(8);

		// cmbTipo
		cmbTipo = ComponentUtil.buildComboBox("Tipo");
		gridLayout_1.addComponent(cmbTipo, 0, 0);

		// txCodigo
		txCodigo = ComponentUtil.buildTextField("Código");
		gridLayout_1.addComponent(txCodigo, 1, 0);

		// txNome
		txNome = ComponentUtil.buildTextField("Nome");
		gridLayout_1.addComponent(txNome, 2, 0);

		// cmbTipoTrabalho
		cmbTipoTrabalho = ComponentUtil.buildComboBox("Tipo Trabalho");
		gridLayout_1.addComponent(cmbTipoTrabalho, 3, 0);

		// txCargaHoraria
		txCargaHoraria = ComponentUtil.buildMaskedTextField("Carga Horária", "##:##:##");

		gridLayout_1.addComponent(txCargaHoraria, 4, 0);

		// txEntrada01
		txEntrada01 = ComponentUtil.buildMaskedTextField("Entrada01", "##:##:##");
		gridLayout_1.addComponent(txEntrada01, 0, 1);

		// txSaida01
		txSaida01 = ComponentUtil.buildMaskedTextField("Saída01", "##:##:##");
		gridLayout_1.addComponent(txSaida01, 1, 1);

		// txEntrada02
		txEntrada02 = ComponentUtil.buildMaskedTextField("Entrada02", "##:##:##");
		gridLayout_1.addComponent(txEntrada02, 0, 2);

		// txSaida02
		txSaida02 = ComponentUtil.buildMaskedTextField("Saída02", "##:##:##");
		gridLayout_1.addComponent(txSaida02, 1, 2);

		// txEntrada03
		txEntrada03 = ComponentUtil.buildMaskedTextField("Entrada03", "##:##:##");
		gridLayout_1.addComponent(txEntrada03, 0, 3);

		// txSaida03
		txSaida03 = ComponentUtil.buildMaskedTextField("Saída03", "##:##:##");
		gridLayout_1.addComponent(txSaida03, 1, 3);

		// txEntrada04
		txEntrada04 = ComponentUtil.buildMaskedTextField("Entrada04", "##:##:##");
		gridLayout_1.addComponent(txEntrada04, 0, 4);

		// txSaida04
		txSaida04 = ComponentUtil.buildMaskedTextField("Saida04", "##:##:##");
		gridLayout_1.addComponent(txSaida04, 1, 4);

		// txEntrada05
		txEntrada05 = ComponentUtil.buildMaskedTextField("Entrada05", "##:##:##");
		gridLayout_1.addComponent(txEntrada05, 0, 5);

		// txSaida05
		txSaida05 = ComponentUtil.buildMaskedTextField("Saida05", "##:##:##");
		gridLayout_1.addComponent(txSaida05, 1, 5);

		// txHoraFechamentoDia
		txHoraInicioJornada = ComponentUtil.buildMaskedTextField("Hora Inicio Jornada", "##:##:##");

		gridLayout_1.addComponent(txHoraInicioJornada, 0, 6);

		// txHoraFimJornada
		txHoraFimJornada = ComponentUtil.buildMaskedTextField("Hora Fim Jornada", "##:##:##");
		gridLayout_1.addComponent(txHoraFimJornada, 1, 6);

		return gridLayout_1;
	}

	public void preencheForm(PontoHorario currentBean) {
		txCargaHoraria.setValue(currentBean.getCargaHoraria());
		txCodigo.setValue(currentBean.getCodigo());
		txEntrada01.setValue(currentBean.getEntrada01());
		txEntrada02.setValue(currentBean.getEntrada02());
		txEntrada03.setValue(currentBean.getEntrada03());
		txEntrada04.setValue(currentBean.getEntrada04());
		txEntrada05.setValue(currentBean.getEntrada05());
		txHoraFimJornada.setValue(currentBean.getHoraFimJornada());
		txHoraInicioJornada.setValue(currentBean.getHoraInicioJornada());
		txNome.setValue(currentBean.getNome());
		txSaida01.setValue(currentBean.getSaida01());
		txSaida02.setValue(currentBean.getSaida02());
		txSaida03.setValue(currentBean.getSaida03());
		txSaida04.setValue(currentBean.getSaida04());
		txSaida05.setValue(currentBean.getSaida05());
		cmbTipo.setValue(TipoHorarioPonto.getTipo(currentBean.getTipo()));
		cmbTipoTrabalho.setValue(TipoTrabalho.getSituacao(currentBean.getTipoTrabalho()));

	}

	public void preencheBean(PontoHorario currentBean) {
		currentBean.setCargaHoraria(txCargaHoraria.getValue());
		currentBean.setCodigo(txCodigo.getValue());
		currentBean.setEntrada01(txEntrada01.getValue());
		currentBean.setEntrada02(txEntrada02.getValue());
		currentBean.setEntrada03(txEntrada03.getValue());
		currentBean.setEntrada04(txEntrada04.getValue());
		currentBean.setEntrada05(txEntrada05.getValue());
		currentBean.setHoraFimJornada(txHoraFimJornada.getValue());
		currentBean.setHoraInicioJornada(txHoraInicioJornada.getValue());
		currentBean.setNome(txNome.getValue());
		currentBean.setSaida01(txSaida01.getValue());
		currentBean.setSaida02(txSaida02.getValue());
		currentBean.setSaida03(txSaida03.getValue());
		currentBean.setSaida04(txSaida04.getValue());
		currentBean.setSaida05(txSaida05.getValue());
		currentBean.setTipo(((TipoHorarioPonto) cmbTipo.getValue()).getCodigo());
		currentBean.setTipoTrabalho(((TipoTrabalho) cmbTipoTrabalho.getValue()).getCodigo());
	}

	public enum TipoTrabalho {
		NORMAL("Normal", "N"), COMPENSACAO("Compensação", "C"), FOLGA("Folga", "F");

		private TipoTrabalho(String label, String codigo) {
			this.label = label;
			this.codigo = codigo;
		}

		private String label;
		private String codigo;

		public static TipoTrabalho getSituacao(String codigo) {
			for (TipoTrabalho e : TipoTrabalho.values()) {
				if (e.getCodigo().equalsIgnoreCase(codigo)) {
					return e;
				}
			}

			return null;
		}

		public String getCodigo() {
			return codigo;
		}

		public String getLabel() {
			return label;
		}

		@Override
		public String toString() {
			return label;
		}
	}

	public void carregarTipo() {
		cmbTipo.removeAllItems();
		for (TipoHorarioPonto tipo : TipoHorarioPonto.values()) {
			cmbTipo.addItem(tipo);
		}

	}

	public void carregarTipoTrabalho() {
		cmbTipoTrabalho.removeAllItems();
		for (TipoTrabalho tipo : TipoTrabalho.values()) {
			cmbTipoTrabalho.addItem(tipo);
		}

	}

	public MaskedTextField getTxHoraFimJornada() {
		return txHoraFimJornada;
	}

	public void setTxHoraFimJornada(MaskedTextField txHoraFimJornada) {
		this.txHoraFimJornada = txHoraFimJornada;
	}

	public MaskedTextField getTxHoraInicioJornada() {
		return txHoraInicioJornada;
	}

	public void setTxHoraInicioJornada(MaskedTextField txHoraInicioJornada) {
		this.txHoraInicioJornada = txHoraInicioJornada;
	}

	public MaskedTextField getTxSaida05() {
		return txSaida05;
	}

	public void setTxSaida05(MaskedTextField txSaida05) {
		this.txSaida05 = txSaida05;
	}

	public MaskedTextField getTxEntrada05() {
		return txEntrada05;
	}

	public void setTxEntrada05(MaskedTextField txEntrada05) {
		this.txEntrada05 = txEntrada05;
	}

	public MaskedTextField getTxSaida04() {
		return txSaida04;
	}

	public void setTxSaida04(MaskedTextField txSaida04) {
		this.txSaida04 = txSaida04;
	}

	public MaskedTextField getTxEntrada04() {
		return txEntrada04;
	}

	public void setTxEntrada04(MaskedTextField txEntrada04) {
		this.txEntrada04 = txEntrada04;
	}

	public MaskedTextField getTxSaida03() {
		return txSaida03;
	}

	public void setTxSaida03(MaskedTextField txSaida03) {
		this.txSaida03 = txSaida03;
	}

	public MaskedTextField getTxEntrada03() {
		return txEntrada03;
	}

	public void setTxEntrada03(MaskedTextField txEntrada03) {
		this.txEntrada03 = txEntrada03;
	}

	public MaskedTextField getTxSaida02() {
		return txSaida02;
	}

	public void setTxSaida02(MaskedTextField txSaida02) {
		this.txSaida02 = txSaida02;
	}

	public MaskedTextField getTxEntrada02() {
		return txEntrada02;
	}

	public void setTxEntrada02(MaskedTextField txEntrada02) {
		this.txEntrada02 = txEntrada02;
	}

	public MaskedTextField getTxSaida01() {
		return txSaida01;
	}

	public void setTxSaida01(MaskedTextField txSaida01) {
		this.txSaida01 = txSaida01;
	}

	public MaskedTextField getTxEntrada01() {
		return txEntrada01;
	}

	public void setTxEntrada01(MaskedTextField txEntrada01) {
		this.txEntrada01 = txEntrada01;
	}

	public MaskedTextField getTxCargaHoraria() {
		return txCargaHoraria;
	}

	public void setTxCargaHoraria(MaskedTextField txCargaHoraria) {
		this.txCargaHoraria = txCargaHoraria;
	}

	public ComboBox getCmbTipoTrabalho() {
		return cmbTipoTrabalho;
	}

	public void setCmbTipoTrabalho(ComboBox cmbTipoTrabalho) {
		this.cmbTipoTrabalho = cmbTipoTrabalho;
	}

	public TextField getTxNome() {
		return txNome;
	}

	public void setTxNome(TextField txNome) {
		this.txNome = txNome;
	}

	public TextField getTxCodigo() {
		return txCodigo;
	}

	public void setTxCodigo(TextField txCodigo) {
		this.txCodigo = txCodigo;
	}

	public ComboBox getCmbTipo() {
		return cmbTipo;
	}

	public void setCmbTipo(ComboBox cmbTipo) {
		this.cmbTipo = cmbTipo;
	}

	public enum TipoHorarioPonto {
		FIXO("Fixo", "F"), DIARIO("Diário", "D"), SEMANAL("Semanal", "S"), MENSAL("Mensal", "M");

		private TipoHorarioPonto(String label, String codigo) {
			this.label = label;
			this.codigo = codigo;
		}

		private String label;
		private String codigo;

		public static TipoHorarioPonto getTipo(String codigo) {
			if (FIXO.codigo.equalsIgnoreCase(codigo)) {
				return FIXO;
			} else if (DIARIO.codigo.equalsIgnoreCase(codigo)) {
				return DIARIO;
			}
			if (SEMANAL.codigo.equalsIgnoreCase(codigo)) {
				return SEMANAL;
			}
			if (MENSAL.codigo.equalsIgnoreCase(codigo)) {
				return MENSAL;
			}

			return null;
		}

		public String getCodigo() {
			return codigo;
		}

		public String getLabel() {
			return label;
		}

		@Override
		public String toString() {
			return label;
		}
	}
}
