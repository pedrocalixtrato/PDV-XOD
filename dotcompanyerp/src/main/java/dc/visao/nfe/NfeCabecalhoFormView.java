package dc.visao.nfe;

import com.vaadin.annotations.AutoGenerated;
import com.vaadin.data.Property.ValueChangeEvent;
import com.vaadin.data.Property.ValueChangeListener;
import com.vaadin.ui.ComboBox;
import com.vaadin.ui.CustomComponent;
import com.vaadin.ui.GridLayout;
import com.vaadin.ui.Panel;
import com.vaadin.ui.PopupDateField;
import com.vaadin.ui.TabSheet;
import com.vaadin.ui.TextField;
import com.vaadin.ui.VerticalLayout;

import dc.control.validator.ObjectValidator;
import dc.controller.nfe.NfeCabecalhoFormController;
import dc.entidade.tributario.OperacaoFiscalEntity;
import dc.visao.framework.component.manytoonecombo.ManyToOneCombo;

/**
 * 
 * 
 */

public class NfeCabecalhoFormView extends CustomComponent {

	/**
	 * 
	 */
	private static final long serialVersionUID = 1L;

	private NfeCabecalhoFormController controller;

	@AutoGenerated
	private VerticalLayout mainLayout;

	@AutoGenerated
	private Panel plPrincipal;

	@AutoGenerated
	private VerticalLayout vlPrincipal;

	@AutoGenerated
	private TabSheet tsPrincipal;

	@AutoGenerated
	private TabSheet tsSecundario;

	/**
	 * NFECABECALHO
	 */

	@AutoGenerated
	private VerticalLayout vlNfeCabecalho;

	@AutoGenerated
	private Panel plNfeCabecalho;

	@AutoGenerated
	private GridLayout glNfeCabecalho;

	@AutoGenerated
	private TextField tfOperacaoFiscalId;

	// @AutoGenerated
	// private TextField tfOperacaoFiscal;

	@AutoGenerated
	private ManyToOneCombo<OperacaoFiscalEntity> mtoOperacaoFiscal;

	@AutoGenerated
	private TextField tfVenda;

	@AutoGenerated
	private TextField tfModeloNotaFiscal;

	@AutoGenerated
	private TextField tfNaturezaOperacao;

	@AutoGenerated
	private TextField tfChaveAcesso;

	@AutoGenerated
	private TextField tfDigitoChaveAcesso;

	@AutoGenerated
	private TextField tfCodigoNumerico;

	@AutoGenerated
	private TextField tfSerie;

	@AutoGenerated
	private TextField tfNumero;

	@AutoGenerated
	private PopupDateField pdfDataEmissao;

	@AutoGenerated
	private PopupDateField pdfDataEntradaSaida;

	@AutoGenerated
	private TextField tfHoraEntradaSaida;

	@AutoGenerated
	private TextField tfTipoOperacao;

	@AutoGenerated
	private ComboBox cbTipoEmissao;

	@AutoGenerated
	private ComboBox cbFinalidadeEmissao;

	@AutoGenerated
	private ComboBox cbFormatoImpressaoDanfe;

	@AutoGenerated
	private ComboBox cbFormaPagamento;

	public TextField getTfOperacaoFiscalId() {
		return tfOperacaoFiscalId;
	};

	public void setTfOperacaoFiscalId(TextField tfOperacaoFiscalId) {
		this.tfOperacaoFiscalId = tfOperacaoFiscalId;
	};

	// public TextField getTfOperacaoFiscal() {
	// return tfOperacaoFiscal;
	// };

	// public void setTfOperacaoFiscal(TextField tfOperacaoFiscal) {
	// this.tfOperacaoFiscal = tfOperacaoFiscal;
	// };

	public ManyToOneCombo<OperacaoFiscalEntity> getMtoOperacaoFiscal() {
		return mtoOperacaoFiscal;
	}

	public void setMtoOperacaoFiscal(
			ManyToOneCombo<OperacaoFiscalEntity> mtoOperacaoFiscal) {
		this.mtoOperacaoFiscal = mtoOperacaoFiscal;
	}

	public TextField getTfVenda() {
		return tfVenda;
	};

	public void setTfVenda(TextField tfVenda) {
		this.tfVenda = tfVenda;
	};

	public TextField getTfModeloNotaFiscal() {
		return tfModeloNotaFiscal;
	};

	public void setTfModeloNotaFiscal(TextField tfModeloNotaFiscal) {
		this.tfModeloNotaFiscal = tfModeloNotaFiscal;
	};

	public TextField getTfNaturezaOperacao() {
		return tfNaturezaOperacao;
	};

	public void setTfNaturezaOperacao(TextField tfNaturezaOperacao) {
		this.tfNaturezaOperacao = tfNaturezaOperacao;
	};

	public TextField getTfChaveAcesso() {
		return tfChaveAcesso;
	};

	public void setTfChaveAcesso(TextField tfChaveAcesso) {
		this.tfChaveAcesso = tfChaveAcesso;
	};

	public TextField getTfDigitoChaveAcesso() {
		return tfDigitoChaveAcesso;
	};

	public void setTfDigitoChaveAcesso(TextField tfDigitoChaveAcesso) {
		this.tfDigitoChaveAcesso = tfDigitoChaveAcesso;
	};

	public TextField getTfCodigoNumerico() {
		return tfCodigoNumerico;
	};

	public void setTfCodigoNumerico(TextField tfCodigoNumerico) {
		this.tfCodigoNumerico = tfCodigoNumerico;
	};

	public TextField getTfSerie() {
		return tfSerie;
	};

	public void setTfSerie(TextField tfSerie) {
		this.tfSerie = tfSerie;
	};

	public TextField getTfNumero() {
		return tfNumero;
	};

	public void setTfNumero(TextField tfNumero) {
		this.tfNumero = tfNumero;
	};

	public PopupDateField getPdfDataEmissao() {
		return pdfDataEmissao;
	}

	public void setPdfDataEmissao(PopupDateField pdfDataEmissao) {
		this.pdfDataEmissao = pdfDataEmissao;
	}

	public PopupDateField getPdfDataEntradaSaida() {
		return pdfDataEntradaSaida;
	}

	public void setPdfDataEntradaSaida(PopupDateField pdfDataEntradaSaida) {
		this.pdfDataEntradaSaida = pdfDataEntradaSaida;
	}

	public TextField getTfHoraEntradaSaida() {
		return tfHoraEntradaSaida;
	}

	public void setTfHoraEntradaSaida(TextField tfHoraEntradaSaida) {
		this.tfHoraEntradaSaida = tfHoraEntradaSaida;
	}

	public TextField getTfTipoOperacao() {
		return tfTipoOperacao;
	};

	public void setTfTipoOperacao(TextField tfTipoOperacao) {
		this.tfTipoOperacao = tfTipoOperacao;
	};

	public ComboBox getCbTipoEmissao() {
		return cbTipoEmissao;
	};

	public void setCbTipoEmissao(ComboBox cbTipoEmissao) {
		this.cbTipoEmissao = cbTipoEmissao;
	};

	public ComboBox getCbFinalidadeEmissao() {
		return cbFinalidadeEmissao;
	};

	public void setCbFinalidadeEmissao(ComboBox cbFinalidadeEmissao) {
		this.cbFinalidadeEmissao = cbFinalidadeEmissao;
	};

	public ComboBox getCbFormatoImpressaoDanfe() {
		return cbFormatoImpressaoDanfe;
	};

	public void setCbFormatoImpressaoDanfe(ComboBox cbFormatoImpressaoDanfe) {
		this.cbFormatoImpressaoDanfe = cbFormatoImpressaoDanfe;
	};

	public ComboBox getCbFormaPagamento() {
		return cbFormaPagamento;
	};

	public void setCbFormaPagamento(ComboBox cbFormaPagamento) {
		this.cbFormaPagamento = cbFormaPagamento;
	};

	/**
	 * CONSTRUTOR
	 * 
	 * @param controller
	 */

	public NfeCabecalhoFormView(NfeCabecalhoFormController controller) {
		this.controller = controller;

		buildMainLayout();
		setCompositionRoot(this.mainLayout);
	}

	/**
	 * GET / SET
	 */

	@AutoGenerated
	private VerticalLayout buildMainLayout() {
		// common part: create layout
		mainLayout = new VerticalLayout();
		mainLayout.setImmediate(false);
		mainLayout.setWidth("100%");
		mainLayout.setHeight("100%");
		mainLayout.setMargin(true);
		mainLayout.setSpacing(true);

		// top-level component properties
		setWidth("100.0%");
		setHeight("100.0%");

		// panel_1
		plPrincipal = bplPrincipal();
		mainLayout.addComponent(plPrincipal);

		return mainLayout;
	}

	@AutoGenerated
	private Panel bplPrincipal() {
		// common part: create layout
		plPrincipal = new Panel();
		plPrincipal.setImmediate(false);
		plPrincipal.setSizeFull();

		// verticalLayout_1
		vlPrincipal = bvlPrincipal();
		plPrincipal.setContent(vlPrincipal);

		return plPrincipal;
	}

	@AutoGenerated
	private VerticalLayout bvlPrincipal() {
		// common part: create layout
		vlPrincipal = new VerticalLayout();
		vlPrincipal.setImmediate(false);
		// verticalLayout_1.setWidth("100.0%");
		// verticalLayout_1.setHeight("100.0%");
		vlPrincipal.setMargin(false);
		vlPrincipal.setSizeFull();

		// tabSheet_1
		tsPrincipal = btsPrincipal();
		vlPrincipal.addComponent(tsPrincipal);

		return vlPrincipal;
	}

	@AutoGenerated
	private TabSheet btsPrincipal() {
		// common part: create layout
		tsPrincipal = new TabSheet();
		tsPrincipal.setImmediate(true);
		tsPrincipal.setSizeFull();

		// nfeCabecalho
		vlNfeCabecalho = bvlNfeCabecalho();
		tsPrincipal.addTab(vlNfeCabecalho, "NFE", null);

		// nfeDetalhe
		// vlNfeDestinatario = bvlNfeDestinatario();
		// tsPrincipal.addTab(vlNfeDestinatario, "NFE Destinatário", null);

		return tsPrincipal;
	}

	@AutoGenerated
	private VerticalLayout bvlNfeCabecalho() {
		// common part: create layout
		vlNfeCabecalho = new VerticalLayout();
		vlNfeCabecalho.setImmediate(false);
		vlNfeCabecalho.setWidth("100.0%");
		vlNfeCabecalho.setHeight("100.0%");
		// vlNfeDestinatario.setSizeFull();
		vlNfeCabecalho.setMargin(true);
		vlNfeCabecalho.setSpacing(true);

		//
		vlNfeCabecalho.addComponent(bplNfeCabecalho());

		//

		return vlNfeCabecalho;
	}

	@AutoGenerated
	private Panel bplNfeCabecalho() {
		// common part: create layout
		plNfeCabecalho = new Panel();
		plNfeCabecalho.setImmediate(false);
		// pNfeDetalhe.setWidth("100.0%");
		// pNfeDetalhe.setHeight("100.0%");
		plNfeCabecalho.setSizeFull();

		plNfeCabecalho.setContent(bglNfeCabecalho());

		return plNfeCabecalho;
	}

	@AutoGenerated
	private GridLayout bglNfeCabecalho() {
		// common part: create layout
		glNfeCabecalho = new GridLayout();
		glNfeCabecalho.setImmediate(false);
		// glNfeCabecalho.setWidth("100.0%");
		// glNfeCabecalho.setHeight("100.0%");
		// glNfeCabecalho.setSizeFull();
		glNfeCabecalho.setMargin(true);
		glNfeCabecalho.setSpacing(true);
		glNfeCabecalho.setRows(6);
		glNfeCabecalho.setColumns(5);

		// tfOperacaoFiscalId
		tfOperacaoFiscalId = new TextField();
		tfOperacaoFiscalId.setCaption("");
		tfOperacaoFiscalId.setWidth("-1px");
		tfOperacaoFiscalId.setHeight("-1px");
		tfOperacaoFiscalId.setSizeFull();
		tfOperacaoFiscalId.setNullRepresentation("");
		tfOperacaoFiscalId.setImmediate(false);
		tfOperacaoFiscalId.setId("tfOperacaoFiscalId");
		tfOperacaoFiscalId.setEnabled(false);
		glNfeCabecalho.addComponent(tfOperacaoFiscalId, 0, 0);

		// tfOperacaoFiscal
		mtoOperacaoFiscal = new ManyToOneCombo<>();
		mtoOperacaoFiscal.setCaption("Operação fiscal:");
		mtoOperacaoFiscal.setWidth("175px");
		mtoOperacaoFiscal.setHeight("-1px");
		mtoOperacaoFiscal.setSizeFull();
		mtoOperacaoFiscal.setImmediate(true);
		mtoOperacaoFiscal.setId("mtoOperacaoFiscal");
		mtoOperacaoFiscal.addValueChangeListener(new ValueChangeListener() {
			/**
			 * 
			 */
			private static final long serialVersionUID = 1L;

			@Override
			public void valueChange(ValueChangeEvent event) {
				// TODO Auto-generated method stub
				if (ObjectValidator.validateEventValue(event)) {
					controller.nfeCabecalhoSetarValor(
							mtoOperacaoFiscal.getId(), event.getProperty()
									.getValue());
				}
			}
		});
		glNfeCabecalho.addComponent(mtoOperacaoFiscal, 1, 0);

		// tfVenda
		tfVenda = new TextField();
		tfVenda.setCaption("Venda:");
		tfVenda.setWidth("-1px");
		tfVenda.setHeight("-1px");
		tfVenda.setSizeFull();
		tfVenda.setNullRepresentation("");
		tfVenda.setImmediate(true);
		tfVenda.setId("tfVenda");
		tfVenda.addValueChangeListener(new ValueChangeListener() {
			/**
			 * 
			 */
			private static final long serialVersionUID = 1L;

			@Override
			public void valueChange(ValueChangeEvent event) {
				// TODO Auto-generated method stub
				if (ObjectValidator.validateEventValue(event)) {
					controller.nfeCabecalhoSetarValor(tfVenda.getId(), event
							.getProperty().getValue());
				}
			}
		});
		glNfeCabecalho.addComponent(tfVenda, 2, 0);

		// tfModeloNotaFiscal
		tfModeloNotaFiscal = new TextField();
		tfModeloNotaFiscal.setCaption("Modelo de nota fiscal:");
		tfModeloNotaFiscal.setWidth("-1px");
		tfModeloNotaFiscal.setHeight("-1px");
		tfModeloNotaFiscal.setSizeFull();
		tfModeloNotaFiscal.setNullRepresentation("");
		tfModeloNotaFiscal.setImmediate(true);
		tfModeloNotaFiscal.setId("tfModeloNotaFiscal");
		tfModeloNotaFiscal.addValueChangeListener(new ValueChangeListener() {
			/**
			 * 
			 */
			private static final long serialVersionUID = 1L;

			@Override
			public void valueChange(ValueChangeEvent event) {
				// TODO Auto-generated method stub
				if (ObjectValidator.validateEventValue(event)) {
					controller.nfeCabecalhoSetarValor(tfModeloNotaFiscal
							.getId(), event.getProperty().getValue());
				}
			}
		});
		glNfeCabecalho.addComponent(tfModeloNotaFiscal, 3, 0);

		// tfNaturezaOperacao
		tfNaturezaOperacao = new TextField();
		tfNaturezaOperacao.setCaption("Natureza da operação:");
		tfNaturezaOperacao.setWidth("-1px");
		tfNaturezaOperacao.setHeight("-1px");
		tfNaturezaOperacao.setSizeFull();
		tfNaturezaOperacao.setNullRepresentation("");
		tfNaturezaOperacao.setImmediate(true);
		tfNaturezaOperacao.setId("tfNaturezaOperacao");
		tfNaturezaOperacao.addValueChangeListener(new ValueChangeListener() {
			/**
			 * 
			 */
			private static final long serialVersionUID = 1L;

			@Override
			public void valueChange(ValueChangeEvent event) {
				// TODO Auto-generated method stub
				if (ObjectValidator.validateEventValue(event)) {
					controller.nfeCabecalhoSetarValor(tfNaturezaOperacao
							.getId(), event.getProperty().getValue());
				}
			}
		});
		glNfeCabecalho.addComponent(tfNaturezaOperacao, 4, 0);

		// tfChaveAcesso
		tfChaveAcesso = new TextField();
		tfChaveAcesso.setCaption("Chave de acesso:");
		tfChaveAcesso.setWidth("-1px");
		tfChaveAcesso.setHeight("-1px");
		tfChaveAcesso.setSizeFull();
		tfChaveAcesso.setNullRepresentation("");
		tfChaveAcesso.setImmediate(true);
		tfChaveAcesso.setId("tfChaveAcesso");
		tfChaveAcesso.addValueChangeListener(new ValueChangeListener() {
			/**
			 * 
			 */
			private static final long serialVersionUID = 1L;

			@Override
			public void valueChange(ValueChangeEvent event) {
				// TODO Auto-generated method stub
				if (ObjectValidator.validateEventValue(event)) {
					controller.nfeCabecalhoSetarValor(tfChaveAcesso.getId(),
							event.getProperty().getValue());
				}
			}
		});
		glNfeCabecalho.addComponent(tfChaveAcesso, 0, 1);

		// tfDigitoChaveAcesso
		tfDigitoChaveAcesso = new TextField();
		tfDigitoChaveAcesso.setCaption("DV:");
		tfDigitoChaveAcesso.setWidth("-1px");
		tfDigitoChaveAcesso.setHeight("-1px");
		tfDigitoChaveAcesso.setSizeFull();
		tfDigitoChaveAcesso.setNullRepresentation("");
		tfDigitoChaveAcesso.setImmediate(true);
		tfDigitoChaveAcesso.setId("tfDigitoChaveAcesso");
		tfDigitoChaveAcesso.addValueChangeListener(new ValueChangeListener() {
			/**
			 * 
			 */
			private static final long serialVersionUID = 1L;

			@Override
			public void valueChange(ValueChangeEvent event) {
				// TODO Auto-generated method stub
				if (ObjectValidator.validateEventValue(event)) {
					controller.nfeCabecalhoSetarValor(tfDigitoChaveAcesso
							.getId(), event.getProperty().getValue());
				}
			}
		});
		glNfeCabecalho.addComponent(tfDigitoChaveAcesso, 1, 1);

		// tfCodigoNumerico
		tfCodigoNumerico = new TextField();
		tfCodigoNumerico.setCaption("Código numérico:");
		tfCodigoNumerico.setWidth("-1px");
		tfCodigoNumerico.setHeight("-1px");
		tfCodigoNumerico.setSizeFull();
		tfCodigoNumerico.setNullRepresentation("");
		tfCodigoNumerico.setImmediate(true);
		tfCodigoNumerico.setId("tfCodigoNumerico");
		tfCodigoNumerico.addValueChangeListener(new ValueChangeListener() {
			/**
			 * 
			 */
			private static final long serialVersionUID = 1L;

			@Override
			public void valueChange(ValueChangeEvent event) {
				// TODO Auto-generated method stub
				if (ObjectValidator.validateEventValue(event)) {
					controller.nfeCabecalhoSetarValor(tfCodigoNumerico.getId(),
							event.getProperty().getValue());
				}
			}
		});
		glNfeCabecalho.addComponent(tfCodigoNumerico, 2, 1);

		// tfSerie
		tfSerie = new TextField();
		tfSerie.setCaption("Série:");
		tfSerie.setWidth("-1px");
		tfSerie.setHeight("-1px");
		tfSerie.setSizeFull();
		tfSerie.setNullRepresentation("");
		tfSerie.setImmediate(true);
		tfSerie.setId("tfSerie");
		tfSerie.addValueChangeListener(new ValueChangeListener() {
			/**
			 * 
			 */
			private static final long serialVersionUID = 1L;

			@Override
			public void valueChange(ValueChangeEvent event) {
				// TODO Auto-generated method stub
				if (ObjectValidator.validateEventValue(event)) {
					controller.nfeCabecalhoSetarValor(tfSerie.getId(), event
							.getProperty().getValue());
				}
			}
		});
		glNfeCabecalho.addComponent(tfSerie, 3, 1);

		// tfNumero
		tfNumero = new TextField();
		tfNumero.setCaption("Número:");
		tfNumero.setWidth("-1px");
		tfNumero.setHeight("-1px");
		tfNumero.setSizeFull();
		tfNumero.setNullRepresentation("");
		tfNumero.setImmediate(true);
		tfNumero.setId("tfNumero");
		tfNumero.addValueChangeListener(new ValueChangeListener() {
			/**
			 * 
			 */
			private static final long serialVersionUID = 1L;

			@Override
			public void valueChange(ValueChangeEvent event) {
				// TODO Auto-generated method stub
				if (ObjectValidator.validateEventValue(event)) {
					controller.nfeCabecalhoSetarValor(tfNumero.getId(), event
							.getProperty().getValue());
				}
			}
		});
		glNfeCabecalho.addComponent(tfNumero, 4, 1);

		// pdfDataEmissao
		pdfDataEmissao = new PopupDateField();
		pdfDataEmissao.setCaption("Data da emissão:");
		pdfDataEmissao.setWidth("-1px");
		pdfDataEmissao.setHeight("-1px");
		pdfDataEmissao.setSizeFull();
		pdfDataEmissao.setImmediate(true);
		pdfDataEmissao.setId("pdfDataEmissao");
		pdfDataEmissao.addValueChangeListener(new ValueChangeListener() {
			/**
			 * 
			 */
			private static final long serialVersionUID = 1L;

			@Override
			public void valueChange(ValueChangeEvent event) {
				// TODO Auto-generated method stub
				if (ObjectValidator.validateEventValue(event)) {
					if (ObjectValidator.validateNotRequiredDate(event)) {
						controller.nfeCabecalhoSetarValor(pdfDataEmissao
								.getId(), event.getProperty().getValue());
					}
				}
			}
		});
		glNfeCabecalho.addComponent(pdfDataEmissao, 0, 2);

		// pdfDataEntradaSaida
		pdfDataEntradaSaida = new PopupDateField();
		pdfDataEntradaSaida.setCaption("Data (Entrada / saída):");
		pdfDataEntradaSaida.setWidth("-1px");
		pdfDataEntradaSaida.setHeight("-1px");
		pdfDataEntradaSaida.setSizeFull();
		pdfDataEntradaSaida.setImmediate(true);
		pdfDataEntradaSaida.setId("pdfDataEntradaSaida");
		pdfDataEntradaSaida.addValueChangeListener(new ValueChangeListener() {
			/**
			 * 
			 */
			private static final long serialVersionUID = 1L;

			@Override
			public void valueChange(ValueChangeEvent event) {
				// TODO Auto-generated method stub
				if (ObjectValidator.validateEventValue(event)) {
					if (ObjectValidator.validateNotRequiredDate(event)) {
						controller.nfeCabecalhoSetarValor(pdfDataEntradaSaida
								.getId(), event.getProperty().getValue());
					}
				}
			}
		});
		glNfeCabecalho.addComponent(pdfDataEntradaSaida, 1, 2);

		// tfHoraEntradaSaida
		tfHoraEntradaSaida = new TextField();
		tfHoraEntradaSaida.setCaption("Hora (Entrada / saída):");
		tfHoraEntradaSaida.setWidth("-1px");
		tfHoraEntradaSaida.setHeight("-1px");
		tfHoraEntradaSaida.setSizeFull();
		tfHoraEntradaSaida.setNullRepresentation("");
		tfHoraEntradaSaida.setImmediate(true);
		tfHoraEntradaSaida.setId("tfHoraEntradaSaida");
		tfHoraEntradaSaida.addValueChangeListener(new ValueChangeListener() {
			/**
			 * 
			 */
			private static final long serialVersionUID = 1L;

			@Override
			public void valueChange(ValueChangeEvent event) {
				// TODO Auto-generated method stub
				if (ObjectValidator.validateEventValue(event)) {
					controller.nfeCabecalhoSetarValor(tfHoraEntradaSaida
							.getId(), event.getProperty().getValue());
				}
			}
		});
		glNfeCabecalho.addComponent(tfHoraEntradaSaida, 2, 2);

		// tfTipoOperacao
		tfTipoOperacao = new TextField();
		tfTipoOperacao.setCaption("Tipo de operação:");
		tfTipoOperacao.setWidth("-1px");
		tfTipoOperacao.setHeight("-1px");
		tfTipoOperacao.setSizeFull();
		tfTipoOperacao.setNullRepresentation("");
		tfTipoOperacao.setImmediate(true);
		tfTipoOperacao.setId("tfTipoOperacao");
		tfTipoOperacao.addValueChangeListener(new ValueChangeListener() {
			/**
			 * 
			 */
			private static final long serialVersionUID = 1L;

			@Override
			public void valueChange(ValueChangeEvent event) {
				// TODO Auto-generated method stub
				if (ObjectValidator.validateEventValue(event)) {
					controller.nfeCabecalhoSetarValor(tfTipoOperacao.getId(),
							event.getProperty().getValue());
				}
			}
		});
		glNfeCabecalho.addComponent(tfTipoOperacao, 3, 2);

		// cbTipoEmissao
		cbTipoEmissao = new ComboBox();
		cbTipoEmissao.setCaption("Tipo de emissão:");
		cbTipoEmissao.setWidth("-1px");
		cbTipoEmissao.setHeight("-1px");
		cbTipoEmissao.setSizeFull();
		cbTipoEmissao.setImmediate(true);
		cbTipoEmissao.setId("tfTipoEmissao");
		cbTipoEmissao.addValueChangeListener(new ValueChangeListener() {
			/**
			 * 
			 */
			private static final long serialVersionUID = 1L;

			@Override
			public void valueChange(ValueChangeEvent event) {
				// TODO Auto-generated method stub
				if (ObjectValidator.validateEventValue(event)) {
					controller.nfeCabecalhoSetarValor(cbTipoEmissao.getId(),
							event.getProperty().getValue());
				}
			}
		});
		glNfeCabecalho.addComponent(cbTipoEmissao, 4, 2);

		// cbFinalidadeEmissao
		cbFinalidadeEmissao = new ComboBox();
		cbFinalidadeEmissao.setCaption("Finalidade de emissão:");
		cbFinalidadeEmissao.setWidth("-1px");
		cbFinalidadeEmissao.setHeight("-1px");
		cbFinalidadeEmissao.setSizeFull();
		cbFinalidadeEmissao.setImmediate(true);
		cbFinalidadeEmissao.setId("tfFinalidadeEmissao");
		cbFinalidadeEmissao.addValueChangeListener(new ValueChangeListener() {
			/**
			 * 
			 */
			private static final long serialVersionUID = 1L;

			@Override
			public void valueChange(ValueChangeEvent event) {
				// TODO Auto-generated method stub
				if (ObjectValidator.validateEventValue(event)) {
					controller.nfeCabecalhoSetarValor(cbFinalidadeEmissao
							.getId(), event.getProperty().getValue());
				}
			}
		});
		glNfeCabecalho.addComponent(cbFinalidadeEmissao, 0, 3);

		// cbFormatoImpressaoDanfe
		cbFormatoImpressaoDanfe = new ComboBox();
		cbFormatoImpressaoDanfe.setCaption("Formato da impressão DANFE:");
		cbFormatoImpressaoDanfe.setWidth("-1px");
		cbFormatoImpressaoDanfe.setHeight("-1px");
		cbFormatoImpressaoDanfe.setSizeFull();
		cbFormatoImpressaoDanfe.setImmediate(true);
		cbFormatoImpressaoDanfe.setId("tfFormatoImpressaoDanfe");
		cbFormatoImpressaoDanfe
				.addValueChangeListener(new ValueChangeListener() {
					/**
					 * 
					 */
					private static final long serialVersionUID = 1L;

					@Override
					public void valueChange(ValueChangeEvent event) {
						// TODO Auto-generated method stub
						if (ObjectValidator.validateEventValue(event)) {
							controller.nfeCabecalhoSetarValor(
									cbFormatoImpressaoDanfe.getId(), event
											.getProperty().getValue());
						}
					}
				});
		glNfeCabecalho.addComponent(cbFormatoImpressaoDanfe, 1, 3);

		// cbFormaPagamento
		cbFormaPagamento = new ComboBox();
		cbFormaPagamento.setCaption("Forma de pagamento:");
		cbFormaPagamento.setWidth("-1px");
		cbFormaPagamento.setHeight("-1px");
		cbFormaPagamento.setSizeFull();
		cbFormaPagamento.setImmediate(true);
		cbFormaPagamento.setId("tfFormaPagamento");
		cbFormaPagamento.addValueChangeListener(new ValueChangeListener() {
			/**
			 * 
			 */
			private static final long serialVersionUID = 1L;

			@Override
			public void valueChange(ValueChangeEvent event) {
				// TODO Auto-generated method stub
				if (ObjectValidator.validateEventValue(event)) {
					controller.nfeCabecalhoSetarValor(cbFormaPagamento.getId(),
							event.getProperty().getValue());
				}
			}
		});
		glNfeCabecalho.addComponent(cbFormaPagamento, 2, 3);

		return glNfeCabecalho;
	}

}